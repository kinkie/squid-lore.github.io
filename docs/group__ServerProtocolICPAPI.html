<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: ICP</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;v8/master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__ServerProtocolICPAPI.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">ICP<div class="ingroups"><a class="el" href="group__Components.html">Squid Components</a> &raquo; <a class="el" href="group__ServerProtocol.html">Server-Side Protocols</a></div></div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for ICP:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ServerProtocolICPAPI.svg" width="431" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__ServerProtocolICPInternal2" id="r_group__ServerProtocolICPInternal2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPInternal2.html">ICPv2 Internals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:group__ServerProtocolICPInternal3" id="r_group__ServerProtocolICPInternal3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPInternal3.html">ICPv3 Internals</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga6d172cc0273c7eb44afd1351198704c6" id="r_ga6d172cc0273c7eb44afd1351198704c6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a> { <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6aeb1af424185fccc134a33d7f47b4ee61">enumBegin_</a> = 0
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a373bcfac3cc95d63c2fe4043f41dbd94">ICP_INVALID</a> = enumBegin_
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a5c6250115ccf383ec8ad97bc82abd5de">ICP_QUERY</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6ae976d3e0d00dd042e09fc832b7d2c5df">ICP_HIT</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6abef39c1952136e11de121425150e3f8d">ICP_MISS</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2">ICP_ERR</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6ae9f82af1aefbfc7989cfc7cce8317f71">ICP_SEND</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a896f5d4e0c61781b0dacf7bc4f643ac3">ICP_SENDA</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a498346be59454c70637f400998222e8b">ICP_DATABEG</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a8cad4df97bee85f00165680a897dae19">ICP_DATA</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a09df3b0e2dcd040e1fe7955d081abb88">ICP_DATAEND</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a9d41e5c7ef15fb29ac27e3d282ef322e">ICP_SECHO</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a16755cd560859f4b80fc3268d86f1377">ICP_DECHO</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a309e21226702cad525160ec812ee4024">ICP_NOTIFY</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a089c8c1e06a18afca084f40d613486b7">ICP_INVALIDATE</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a11f914e9d8b6bc45e27508be90f8eb73">ICP_DELETE</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a7f2d590afb5d0c00c88bf06370ad608d">ICP_UNUSED15</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a2a08897e3c6567fd6f139535c1a9862f">ICP_UNUSED16</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a9113b11261e2e1aa04c9e275f5e74ab5">ICP_UNUSED17</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6aa4cbd7a698d4d61509a4fae20b96eb88">ICP_UNUSED18</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a99d5859af8661e10db49699dcdf80900">ICP_UNUSED19</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a271c63477211181d898dc0544f90cede">ICP_UNUSED20</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6363622dfdc43141e3df39a81425176f">ICP_MISS_NOFETCH</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6d0200c4d928ab973233042d75e192c1">ICP_DENIED</a>
, <br />
&#160;&#160;<a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a212a87eb0961671757e8055e9b5dd8cc">ICP_HIT_OBJ</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6b90e3137805b84a36b36fa9016b0a37">ICP_END</a>
, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6acdd505b950ebaf2fdaa4ad1e28db0dff">enumEnd_</a> = ICP_END
<br />
 }</td></tr>
<tr class="separator:ga6d172cc0273c7eb44afd1351198704c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf6a313c5aa8e419feea13a3479465178" id="r_gaf6a313c5aa8e419feea13a3479465178"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classHttpRequest.html">HttpRequest</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#gaf6a313c5aa8e419feea13a3479465178">icpGetRequest</a> (char *url, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> reqnum, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> fd, <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;from)</td></tr>
<tr class="separator:gaf6a313c5aa8e419feea13a3479465178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab93f57258963c48f1250548e659438e8" id="r_gab93f57258963c48f1250548e659438e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#gab93f57258963c48f1250548e659438e8">icpAccessAllowed</a> (<a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;from, <a class="el" href="classHttpRequest.html">HttpRequest</a> *icp_request)</td></tr>
<tr class="separator:gab93f57258963c48f1250548e659438e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53e8fe6736b5dfae15ba459a4e8c3376" id="r_ga53e8fe6736b5dfae15ba459a4e8c3376"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga53e8fe6736b5dfae15ba459a4e8c3376">icpCreateAndSend</a> (<a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a>, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> flags, char const *url, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> reqnum, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> pad, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> fd, const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;from, <a class="el" href="icap__log_8h.html#ac74f3c646623a07a288f53ff45ac48a8">AccessLogEntryPointer</a>)</td></tr>
<tr class="separator:ga53e8fe6736b5dfae15ba459a4e8c3376"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18d539f98a1a07ee112aa09c590130be" id="r_ga18d539f98a1a07ee112aa09c590130be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga18d539f98a1a07ee112aa09c590130be">icpGetCommonOpcode</a> ()</td></tr>
<tr class="separator:ga18d539f98a1a07ee112aa09c590130be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf40ad0502b4a42f8a70ad6c687e19be7" id="r_gaf40ad0502b4a42f8a70ad6c687e19be7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#gaf40ad0502b4a42f8a70ad6c687e19be7">icpDenyAccess</a> (<a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;from, char *url, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> reqnum, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> fd)</td></tr>
<tr class="separator:gaf40ad0502b4a42f8a70ad6c687e19be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96199192d75c6d2455e42ed66125e48d" id="r_ga96199192d75c6d2455e42ed66125e48d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga96199192d75c6d2455e42ed66125e48d">icpHandleIcpV3</a> (<a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>, <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;, char *, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>)</td></tr>
<tr class="separator:ga96199192d75c6d2455e42ed66125e48d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e1094757d9fa62d7f43e2c9fa47ce26" id="r_ga9e1094757d9fa62d7f43e2c9fa47ce26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga9e1094757d9fa62d7f43e2c9fa47ce26">icpOpenPorts</a> (void)</td></tr>
<tr class="separator:ga9e1094757d9fa62d7f43e2c9fa47ce26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8813cf829eb164d5dc40cace493ce7bc" id="r_ga8813cf829eb164d5dc40cace493ce7bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga8813cf829eb164d5dc40cace493ce7bc">icpConnectionShutdown</a> (void)</td></tr>
<tr class="separator:ga8813cf829eb164d5dc40cace493ce7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaab2644af97fc6b985191a986b334115" id="r_gaaab2644af97fc6b985191a986b334115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#gaaab2644af97fc6b985191a986b334115">icpClosePorts</a> (void)</td></tr>
<tr class="separator:gaaab2644af97fc6b985191a986b334115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d210ff125985b55f52278cc17868ad1" id="r_ga4d210ff125985b55f52278cc17868ad1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga4d210ff125985b55f52278cc17868ad1">icpSetCacheKey</a> (const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> *key)</td></tr>
<tr class="separator:ga4d210ff125985b55f52278cc17868ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4c4db21dc8f810889079162fb186dd9" id="r_gad4c4db21dc8f810889079162fb186dd9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#gad4c4db21dc8f810889079162fb186dd9">icpGetCacheKey</a> (const char *url, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> reqnum)</td></tr>
<tr class="separator:gad4c4db21dc8f810889079162fb186dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga757a1657ca68cc065d61a89fb2a916e6" id="r_ga757a1657ca68cc065d61a89fb2a916e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="comm_2forward_8h.html#aabc485aeb447cd8908b2868a3284a3ce">PF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ServerProtocolICPAPI.html#ga757a1657ca68cc065d61a89fb2a916e6">icpHandleUdp</a></td></tr>
<tr class="separator:ga757a1657ca68cc065d61a89fb2a916e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga6d172cc0273c7eb44afd1351198704c6" name="ga6d172cc0273c7eb44afd1351198704c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6d172cc0273c7eb44afd1351198704c6">&#9670;&#160;</a></span>icp_opcode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6aeb1af424185fccc134a33d7f47b4ee61" name="gga6d172cc0273c7eb44afd1351198704c6aeb1af424185fccc134a33d7f47b4ee61"></a>enumBegin_&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a373bcfac3cc95d63c2fe4043f41dbd94" name="gga6d172cc0273c7eb44afd1351198704c6a373bcfac3cc95d63c2fe4043f41dbd94"></a>ICP_INVALID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a5c6250115ccf383ec8ad97bc82abd5de" name="gga6d172cc0273c7eb44afd1351198704c6a5c6250115ccf383ec8ad97bc82abd5de"></a>ICP_QUERY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6ae976d3e0d00dd042e09fc832b7d2c5df" name="gga6d172cc0273c7eb44afd1351198704c6ae976d3e0d00dd042e09fc832b7d2c5df"></a>ICP_HIT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6abef39c1952136e11de121425150e3f8d" name="gga6d172cc0273c7eb44afd1351198704c6abef39c1952136e11de121425150e3f8d"></a>ICP_MISS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2" name="gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2"></a>ICP_ERR&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6ae9f82af1aefbfc7989cfc7cce8317f71" name="gga6d172cc0273c7eb44afd1351198704c6ae9f82af1aefbfc7989cfc7cce8317f71"></a>ICP_SEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a896f5d4e0c61781b0dacf7bc4f643ac3" name="gga6d172cc0273c7eb44afd1351198704c6a896f5d4e0c61781b0dacf7bc4f643ac3"></a>ICP_SENDA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a498346be59454c70637f400998222e8b" name="gga6d172cc0273c7eb44afd1351198704c6a498346be59454c70637f400998222e8b"></a>ICP_DATABEG&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a8cad4df97bee85f00165680a897dae19" name="gga6d172cc0273c7eb44afd1351198704c6a8cad4df97bee85f00165680a897dae19"></a>ICP_DATA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a09df3b0e2dcd040e1fe7955d081abb88" name="gga6d172cc0273c7eb44afd1351198704c6a09df3b0e2dcd040e1fe7955d081abb88"></a>ICP_DATAEND&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a9d41e5c7ef15fb29ac27e3d282ef322e" name="gga6d172cc0273c7eb44afd1351198704c6a9d41e5c7ef15fb29ac27e3d282ef322e"></a>ICP_SECHO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a16755cd560859f4b80fc3268d86f1377" name="gga6d172cc0273c7eb44afd1351198704c6a16755cd560859f4b80fc3268d86f1377"></a>ICP_DECHO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a309e21226702cad525160ec812ee4024" name="gga6d172cc0273c7eb44afd1351198704c6a309e21226702cad525160ec812ee4024"></a>ICP_NOTIFY&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a089c8c1e06a18afca084f40d613486b7" name="gga6d172cc0273c7eb44afd1351198704c6a089c8c1e06a18afca084f40d613486b7"></a>ICP_INVALIDATE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a11f914e9d8b6bc45e27508be90f8eb73" name="gga6d172cc0273c7eb44afd1351198704c6a11f914e9d8b6bc45e27508be90f8eb73"></a>ICP_DELETE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a7f2d590afb5d0c00c88bf06370ad608d" name="gga6d172cc0273c7eb44afd1351198704c6a7f2d590afb5d0c00c88bf06370ad608d"></a>ICP_UNUSED15&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a2a08897e3c6567fd6f139535c1a9862f" name="gga6d172cc0273c7eb44afd1351198704c6a2a08897e3c6567fd6f139535c1a9862f"></a>ICP_UNUSED16&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a9113b11261e2e1aa04c9e275f5e74ab5" name="gga6d172cc0273c7eb44afd1351198704c6a9113b11261e2e1aa04c9e275f5e74ab5"></a>ICP_UNUSED17&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6aa4cbd7a698d4d61509a4fae20b96eb88" name="gga6d172cc0273c7eb44afd1351198704c6aa4cbd7a698d4d61509a4fae20b96eb88"></a>ICP_UNUSED18&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a99d5859af8661e10db49699dcdf80900" name="gga6d172cc0273c7eb44afd1351198704c6a99d5859af8661e10db49699dcdf80900"></a>ICP_UNUSED19&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a271c63477211181d898dc0544f90cede" name="gga6d172cc0273c7eb44afd1351198704c6a271c63477211181d898dc0544f90cede"></a>ICP_UNUSED20&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a6363622dfdc43141e3df39a81425176f" name="gga6d172cc0273c7eb44afd1351198704c6a6363622dfdc43141e3df39a81425176f"></a>ICP_MISS_NOFETCH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a6d0200c4d928ab973233042d75e192c1" name="gga6d172cc0273c7eb44afd1351198704c6a6d0200c4d928ab973233042d75e192c1"></a>ICP_DENIED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a212a87eb0961671757e8055e9b5dd8cc" name="gga6d172cc0273c7eb44afd1351198704c6a212a87eb0961671757e8055e9b5dd8cc"></a>ICP_HIT_OBJ&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6a6b90e3137805b84a36b36fa9016b0a37" name="gga6d172cc0273c7eb44afd1351198704c6a6b90e3137805b84a36b36fa9016b0a37"></a>ICP_END&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="gga6d172cc0273c7eb44afd1351198704c6acdd505b950ebaf2fdaa4ad1e28db0dff" name="gga6d172cc0273c7eb44afd1351198704c6acdd505b950ebaf2fdaa4ad1e28db0dff"></a>enumEnd_&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="icp__opcode_8h_source.html#l00013">13</a> of file <a class="el" href="icp__opcode_8h_source.html">icp_opcode.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab93f57258963c48f1250548e659438e8" name="gab93f57258963c48f1250548e659438e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab93f57258963c48f1250548e659438e8">&#9670;&#160;</a></span>icpAccessAllowed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool icpAccessAllowed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>icp_request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00442">442</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="classSquidConfig.html#ac7f1138fffbdda4a9a888100e3187691">SquidConfig::accessList</a>, <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="classACLChecklist.html#a51ae541a90994e7ed5d11f2b242ac689">ACLChecklist::fastCheck()</a>, <a class="el" href="classSquidConfig.html#aa11776521bdbbd1348221ea9d7237907">SquidConfig::icp</a>, <a class="el" href="classACLFilledChecklist.html#a5eede657a1f9b1bfe54ac2ee58af9d2e">ACLFilledChecklist::my_addr</a>, <a class="el" href="classIp_1_1Address.html#ababb7a0b632069b90d110f3979fb5acd">Ip::Address::setNoAddr()</a>, and <a class="el" href="classACLFilledChecklist.html#aa75a941c2634f5faa0eef864c4153b93">ACLFilledChecklist::src_addr</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a88f41c7577bf6f12812147987ceb1bd1">doV2Query()</a>, and <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>.</p>

</div>
</div>
<a id="gaaab2644af97fc6b985191a986b334115" name="gaaab2644af97fc6b985191a986b334115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaab2644af97fc6b985191a986b334115">&#9670;&#160;</a></span>icpClosePorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpClosePorts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00785">785</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#ad1f6f001d275799243ee96d0b1519d3a">DBG_IMPORTANT</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="group__ServerProtocolICPAPI.html#ga8813cf829eb164d5dc40cace493ce7bc">icpConnectionShutdown()</a>, <a class="el" href="group__ServerProtocolICPInternal2.html#ga27833f39d27c05bc1f06c4bcf25ef9fc">icpOutgoingConn</a>, and <a class="el" href="classComm_1_1Connection.html#a84e6544b719c79cbecbc7d2a891fbcb2">Comm::Connection::local</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cc.html#a164a145a545a21ece1bfb66349437831">mainReconfigureStart()</a>, <a class="el" href="tools_8cc.html#ae01a14bde16513f1e27bdc329a07d8c6">releaseServerSockets()</a>, and <a class="el" href="main_8cc.html#a6fea3a914920a969bf85e6b45a164fcb">SquidShutdown()</a>.</p>

</div>
</div>
<a id="ga8813cf829eb164d5dc40cace493ce7bc" name="ga8813cf829eb164d5dc40cace493ce7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8813cf829eb164d5dc40cace493ce7bc">&#9670;&#160;</a></span>icpConnectionShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpConnectionShutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>icpConnectionShutdown only closes the 'in' socket if it is different than the 'out' socket. </p>
<p>Release the 'in' socket for lazy closure. in and out sockets may be sharing one same FD. This prevents this function from executing repeatedly.</p>
<p>Normally we only write to the outgoing ICP socket, but we also have a read handler there to catch messages sent to that specific interface. During shutdown, we must disable reading on the outgoing socket.</p>

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00760">760</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="assert_8h.html#a33fa45e42155e69ce8d0da0fd978b351">assert</a>, <a class="el" href="defines_8h.html#a0d83ade59d0c0d3c0f71c50bc14e314e">COMM_SELECT_READ</a>, <a class="el" href="debug_2Stream_8h.html#ad1f6f001d275799243ee96d0b1519d3a">DBG_IMPORTANT</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="classComm_1_1Connection.html#a8e53f4d6fd38545947a5aac6efb98fca">Comm::Connection::fd</a>, <a class="el" href="group__ServerProtocolICPInternal2.html#ga670a12c55edf7e7173c4f97c777ec36b">icpIncomingConn</a>, <a class="el" href="group__ServerProtocolICPInternal2.html#ga27833f39d27c05bc1f06c4bcf25ef9fc">icpOutgoingConn</a>, <a class="el" href="namespaceComm.html#a91f0a0e22e74a7ad6f7c44c137c6f005">Comm::IsConnOpen()</a>, <a class="el" href="classComm_1_1Connection.html#a84e6544b719c79cbecbc7d2a891fbcb2">Comm::Connection::local</a>, and <a class="el" href="namespaceComm.html#ae3a7e8f0df297346e84f0e9943033a3e">Comm::SetSelect()</a>.</p>

<p class="reference">Referenced by <a class="el" href="group__ServerProtocolICPAPI.html#gaaab2644af97fc6b985191a986b334115">icpClosePorts()</a>, and <a class="el" href="main_8cc.html#ae4f82c240995bd117036f6677f045489">serverConnectionsClose()</a>.</p>

</div>
</div>
<a id="ga53e8fe6736b5dfae15ba459a4e8c3376" name="ga53e8fe6736b5dfae15ba459a4e8c3376"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53e8fe6736b5dfae15ba459a4e8c3376">&#9670;&#160;</a></span>icpCreateAndSend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpCreateAndSend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a>&#160;</td>
          <td class="paramname"><em>opcode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>reqnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>pad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="icap__log_8h.html#ac74f3c646623a07a288f53ff45ac48a8">AccessLogEntryPointer</a>&#160;</td>
          <td class="paramname"><em>al</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00418">418</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="classAccessLogEntry.html#a4574f49181917c5496dca9ace95ea344">AccessLogEntry::cache</a>, <a class="el" href="classAccessLogEntry_1_1CacheDetails.html#ae7601ddfc08eef5f4af309c87f3ff59f">AccessLogEntry::CacheDetails::code</a>, <a class="el" href="classicp__common__t.html#a6a5d4dcf80fe74611665fd2d4e157a36">icp_common_t::CreateMessage()</a>, <a class="el" href="icp__v2_8cc.html#adc07894d8f788692e7d7485135839099">icpLogFromICPCode()</a>, <a class="el" href="icp__v2_8cc.html#a7b793d324d538789b0e4f737fbb711aa">icpUdpSend()</a>, and <a class="el" href="classLogTags.html#a261072381e5c0fe0318ad991727643fe">LogTags::update()</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a88f41c7577bf6f12812147987ceb1bd1">doV2Query()</a>, <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gaf40ad0502b4a42f8a70ad6c687e19be7">icpDenyAccess()</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gaf6a313c5aa8e419feea13a3479465178">icpGetRequest()</a>, <a class="el" href="neighbors_8cc.html#a8327463934cc694a0754ec058fda849b">neighborsUdpPing()</a>, and <a class="el" href="neighbors_8cc.html#a3e2752d95ce98c8cfaf10516e4517d48">peerCountMcastPeersCreateAndSend()</a>.</p>

</div>
</div>
<a id="gaf40ad0502b4a42f8a70ad6c687e19be7" name="gaf40ad0502b4a42f8a70ad6c687e19be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf40ad0502b4a42f8a70ad6c687e19be7">&#9670;&#160;</a></span>icpDenyAccess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpDenyAccess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>reqnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>fd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00428">428</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="client__db_8cc.html#ace78c19693cb1fc027c60f41c295ff52">clientdbCutoffDenied()</a>, <a class="el" href="client__db_8cc.html#a44a785ce283010d0e916ae0710dcd7f6">clientdbUpdate()</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6d0200c4d928ab973233042d75e192c1">ICP_DENIED</a>, <a class="el" href="group__ServerProtocolICPAPI.html#ga53e8fe6736b5dfae15ba459a4e8c3376">icpCreateAndSend()</a>, <a class="el" href="LogTags_8h.html#ab2f83b3caf1d5c271706d2a6d2e196f5a72886f850de6426b8f1cd9c60d017c36">LOG_UDP_DENIED</a>, and <a class="el" href="namespaceAnyP.html#af0ba7042d4344a04b758836b3e6e7accacc70e659b8153a808b7c0da5de0428ea">AnyP::PROTO_ICP</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a88f41c7577bf6f12812147987ceb1bd1">doV2Query()</a>, and <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>.</p>

</div>
</div>
<a id="gad4c4db21dc8f810889079162fb186dd9" name="gad4c4db21dc8f810889079162fb186dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad4c4db21dc8f810889079162fb186dd9">&#9670;&#160;</a></span>icpGetCacheKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> * icpGetCacheKey </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>reqnum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00855">855</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="namespaceHttp.html#a84eb275fbe86f9dcc2a0ce9164a60787abf0f2b96078c49aefdf7ab3ef183a5de">Http::METHOD_GET</a>, <a class="el" href="icp__v2_8cc.html#a472773fe1c66418f005596fddb70889b">N_QUERIED_KEYS_MASK</a>, <a class="el" href="globals_8h.html#a861395382bde6d6cab9fb54fade35809">neighbors_do_private_keys</a>, <a class="el" href="icp__v2_8cc.html#a523c1a27d4b61175ddef28300b7d0a87">queried_keys</a>, and <a class="el" href="store__key__md5_8cc.html#a9a805f970e159065a2c53ac9ef027fb3">storeKeyPublic()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classicp__common__t.html#a1327e17db23720718f383f4abbcd952c">icp_common_t::handleReply()</a>.</p>

</div>
</div>
<a id="ga18d539f98a1a07ee112aa09c590130be" name="ga18d539f98a1a07ee112aa09c590130be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18d539f98a1a07ee112aa09c590130be">&#9670;&#160;</a></span>icpGetCommonOpcode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ServerProtocolICPAPI.html#ga6d172cc0273c7eb44afd1351198704c6">icp_opcode</a> icpGetCommonOpcode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This routine selects an ICP opcode for ICP misses.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ICP_ERR</td><td>no opcode selected here </td></tr>
    <tr><td class="paramname">ICP_MISS_NOFETCH</td><td>store is rebuilding, no fetch is possible yet </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00376">376</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="globals_8h.html#ae9785ae5ad141155f0d192ef337afaf1">hit_only_mode_until</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2">ICP_ERR</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6363622dfdc43141e3df39a81425176f">ICP_MISS_NOFETCH</a>, <a class="el" href="globals_8h.html#a0e2877c48f118262ea2e284bb4b29233">opt_reload_hit_only</a>, <a class="el" href="Pool_8cc.html#a161e26ef0307ccb4300ad3ea54bf9fd4">squid_curtime</a>, and <a class="el" href="classStore_1_1Controller.html#a9d928acb2670ae91290f79e340f22989">Store::Controller::store_dirs_rebuilding</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a88f41c7577bf6f12812147987ceb1bd1">doV2Query()</a>, and <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>.</p>

</div>
</div>
<a id="gaf6a313c5aa8e419feea13a3479465178" name="gaf6a313c5aa8e419feea13a3479465178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf6a313c5aa8e419feea13a3479465178">&#9670;&#160;</a></span>icpGetRequest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classHttpRequest.html">HttpRequest</a> * icpGetRequest </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>reqnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00461">461</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="classHttpRequest.html#a3738e100587f43de4a040b3f0463e21d">HttpRequest::FromUrlXXX()</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2">ICP_ERR</a>, <a class="el" href="group__ServerProtocolICPAPI.html#ga53e8fe6736b5dfae15ba459a4e8c3376">icpCreateAndSend()</a>, <a class="el" href="rfc1738_8h.html#aabddaed3b091481a15a392ade729705c">rfc1738_escape</a>, and <a class="el" href="compat__shared_8h.html#af172ea808e99a9f4d4cc3631a496f246">w_space</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a88f41c7577bf6f12812147987ceb1bd1">doV2Query()</a>, and <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>.</p>

</div>
</div>
<a id="ga96199192d75c6d2455e42ed66125e48d" name="ga96199192d75c6d2455e42ed66125e48d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga96199192d75c6d2455e42ed66125e48d">&#9670;&#160;</a></span>icpHandleIcpV3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpHandleIcpV3 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classIp_1_1Address.html">Ip::Address</a> &amp;&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v3_8cc_source.html#l00071">71</a> of file <a class="el" href="icp__v3_8cc_source.html">icp_v3.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#af0ecf487aee4d8ff164c0f40e71c5150">DBG_CRITICAL</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="group__ServerProtocolICPInternal3.html#ga9292bb9a3366d1194da3d4fb62364868">doV3Query()</a>, <a class="el" href="classicp__common__t.html#a65cdae82b47739886595e1c516677e0b">icp_common_t::getOpCode()</a>, <a class="el" href="classicp__common__t.html#a1327e17db23720718f383f4abbcd952c">icp_common_t::handleReply()</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a16755cd560859f4b80fc3268d86f1377">ICP_DECHO</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6d0200c4d928ab973233042d75e192c1">ICP_DENIED</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a88109329f6bad69c97d178a4fad9ddb2">ICP_ERR</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6ae976d3e0d00dd042e09fc832b7d2c5df">ICP_HIT</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a373bcfac3cc95d63c2fe4043f41dbd94">ICP_INVALID</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6abef39c1952136e11de121425150e3f8d">ICP_MISS</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a6363622dfdc43141e3df39a81425176f">ICP_MISS_NOFETCH</a>, <a class="el" href="icp__opcode_8h.html#ac1431af6f906aacf2b4af78e1474d619">icp_opcode_str</a>, <a class="el" href="group__ServerProtocolICPAPI.html#gga6d172cc0273c7eb44afd1351198704c6a5c6250115ccf383ec8ad97bc82abd5de">ICP_QUERY</a>, <a class="el" href="classicp__common__t.html#ac73029eab0a4ce7550bf0c29031e7f0d">icp_common_t::length</a>, and <a class="el" href="classicp__common__t.html#aafb31bceebb70d4463d29aa9866b6b15">icp_common_t::opcode</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a8f1063791770640d4901e9fad20c6462">icpHandleUdp()</a>.</p>

</div>
</div>
<a id="ga9e1094757d9fa62d7f43e2c9fa47ce26" name="ga9e1094757d9fa62d7f43e2c9fa47ce26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e1094757d9fa62d7f43e2c9fa47ce26">&#9670;&#160;</a></span>icpOpenPorts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icpOpenPorts </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00678">678</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="classSquidConfig.html#a7359b8e7d76021bb050a0399c1516e94">SquidConfig::Addrs</a>, <a class="el" href="AsyncCallbacks_8h.html#ab6cbb81f07c19131a02ae4b1b3c419cd">asyncCallbackFun</a>, <a class="el" href="comm_8cc.html#a779138fc791bf0190157d0fb368fb790">comm_open_listener()</a>, <a class="el" href="defines_8h.html#a0d83ade59d0c0d3c0f71c50bc14e314e">COMM_SELECT_READ</a>, <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="debug_2Stream_8h.html#af0ecf487aee4d8ff164c0f40e71c5150">DBG_CRITICAL</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="tools_8cc.html#a7e908148934cae35e8e5f8b294f273f0">enter_suid()</a>, <a class="el" href="fatal_8cc.html#ab64d40563aeeae7c01b72bea4c3ed032">fatal()</a>, <a class="el" href="classComm_1_1Connection.html#a8e53f4d6fd38545947a5aac6efb98fca">Comm::Connection::fd</a>, <a class="el" href="fd_8cc.html#a397dc4e5e5cf728d8f1a48b32cb4e60d">fd_note()</a>, <a class="el" href="namespaceIpc.html#a08603c9424a847b7951bb043ed92c6d7a873be06ea5724238d7ee9306265512af">Ipc::fdnInIcpSocket</a>, <a class="el" href="classSquidConfig.html#aa11776521bdbbd1348221ea9d7237907">SquidConfig::icp</a>, <a class="el" href="group__ServerProtocolICPAPI.html#ga757a1657ca68cc065d61a89fb2a916e6">icpHandleUdp</a>, <a class="el" href="group__ServerProtocolICPInternal2.html#ga670a12c55edf7e7173c4f97c777ec36b">icpIncomingConn</a>, <a class="el" href="icp__v2_8cc.html#a24bbfe88fd7601c4e089215fb71bd809">icpIncomingConnectionOpened()</a>, <a class="el" href="group__ServerProtocolICPInternal2.html#ga27833f39d27c05bc1f06c4bcf25ef9fc">icpOutgoingConn</a>, <a class="el" href="ip_2tools_8h.html#a3272bc17ac3a3d49ad5e8dc9969e51ed">IPV6_SPECIAL_SPLITSTACK</a>, <a class="el" href="classIp_1_1Address.html#ab00ddff71da22c55159fdc8176e14ea4">Ip::Address::isAnyAddr()</a>, <a class="el" href="namespaceComm.html#a91f0a0e22e74a7ad6f7c44c137c6f005">Comm::IsConnOpen()</a>, <a class="el" href="classIp_1_1Address.html#a9527961d8d8f2dd7983ef00f0e31e618">Ip::Address::isNoAddr()</a>, <a class="el" href="tools_8cc.html#a08dbd97a5d802d0e1d9aa371fd78d833">leave_suid()</a>, <a class="el" href="classComm_1_1Connection.html#a84e6544b719c79cbecbc7d2a891fbcb2">Comm::Connection::local</a>, <a class="el" href="eDirectory_2ldap__backend_8cc.html#a63c89c04d1feae07ca35558055155ffb">port</a>, <a class="el" href="classIp_1_1Address.html#aeea3c669850f18acd2efcd336fcf2438">Ip::Address::port()</a>, <a class="el" href="classSquidConfig.html#ac7f4e2240c8dc2d56abe34caef997beb">SquidConfig::Port</a>, <a class="el" href="classIp_1_1Address.html#a11fd4fdbf828795b3d188d01284181fe">Ip::Address::setIPv4()</a>, <a class="el" href="namespaceComm.html#ae3a7e8f0df297346e84f0e9943033a3e">Comm::SetSelect()</a>, <a class="el" href="namespaceIpc.html#a37dd3ff45a0f99fdf2f730e4125110ce">Ipc::StartListening()</a>, <a class="el" href="classSquidConfig.html#a624733c7d7952cf770e5927853e332b7">SquidConfig::udp_incoming</a>, and <a class="el" href="classSquidConfig.html#a07ce56fc6602d8ee5ae25f6e1ee1c244">SquidConfig::udp_outgoing</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cc.html#aad49cdac046a95ad1930c88844882e57">serverConnectionsOpen()</a>.</p>

</div>
</div>
<a id="ga4d210ff125985b55f52278cc17868ad1" name="ga4d210ff125985b55f52278cc17868ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4d210ff125985b55f52278cc17868ad1">&#9670;&#160;</a></span>icpSetCacheKey()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> icpSetCacheKey </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="store_2forward_8h.html#ab1424e1b13666cc28f4c5cb05f8c8305">cache_key</a> *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="icp__v2_8cc_source.html#l00842">842</a> of file <a class="el" href="icp__v2_8cc_source.html">icp_v2.cc</a>.</p>

<p class="reference">References <a class="el" href="icp__v2_8cc.html#a472773fe1c66418f005596fddb70889b">N_QUERIED_KEYS_MASK</a>, <a class="el" href="icp__v2_8cc.html#a523c1a27d4b61175ddef28300b7d0a87">queried_keys</a>, and <a class="el" href="store__key__md5_8cc.html#a606ab6ff24c97907439429376312d064">storeKeyCopy()</a>.</p>

<p class="reference">Referenced by <a class="el" href="neighbors_8cc.html#a8327463934cc694a0754ec058fda849b">neighborsUdpPing()</a>, and <a class="el" href="neighbors_8cc.html#a3e2752d95ce98c8cfaf10516e4517d48">peerCountMcastPeersCreateAndSend()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga757a1657ca68cc065d61a89fb2a916e6" name="ga757a1657ca68cc065d61a89fb2a916e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga757a1657ca68cc065d61a89fb2a916e6">&#9670;&#160;</a></span>icpHandleUdp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="comm_2forward_8h.html#aabc485aeb447cd8908b2868a3284a3ce">PF</a> icpHandleUdp</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="ICP_8h_source.html#l00108">108</a> of file <a class="el" href="ICP_8h_source.html">ICP.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="icp__v2_8cc.html#a8f1063791770640d4901e9fad20c6462">icpHandleUdp()</a>, <a class="el" href="icp__v2_8cc.html#a24bbfe88fd7601c4e089215fb71bd809">icpIncomingConnectionOpened()</a>, and <a class="el" href="group__ServerProtocolICPAPI.html#ga9e1094757d9fa62d7f43e2c9fa47ce26">icpOpenPorts()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
