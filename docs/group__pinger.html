<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: pinger</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;v8/master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__pinger.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pinger</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2c3f6775325c30275d11c6abee2db6a0" id="r_ga2c3f6775325c30275d11c6abee2db6a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pinger.html#ga2c3f6775325c30275d11c6abee2db6a0">main</a> (<a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>, char **)</td></tr>
<tr class="separator:ga2c3f6775325c30275d11c6abee2db6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<dl class="section user"><dt></dt><dd>Although it would be possible for Squid to send and receive ICMP messages directly, we use an external process for two important reasons:</dd></dl>
<ul>
<li>Because squid handles many filedescriptors simultaneously, we get much more accurate RTT measurements when ICMP is handled by a separate process.</li>
</ul>
<ul>
<li>Superuser privileges are required to send and receive ICMP. Rather than require Squid to be started as root, we prefer to have the smaller and simpler pinger program installed with setuid permissions.</li>
</ul>
<dl class="section user"><dt></dt><dd>If you want to use Squid's ICMP features (highly recommended!) When USE_ICMP is defined, Squid will send ICMP pings to origin server sites. This information is used in numerous ways: <ul>
<li>- Sent in ICP replies so neighbor caches know how close you are to the source. </li>
<li>- For finding the closest instance of a URN. </li>
<li>- With the 'test_reachability' option. Squid will return ICP_OP_MISS_NOFETCH for sites which it cannot ping. </li>
</ul>
</dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga2c3f6775325c30275d11c6abee2db6a0" name="ga2c3f6775325c30275d11c6abee2db6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c3f6775325c30275d11c6abee2db6a0">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section user"><dt>This is the pinger external process.</dt><dd></dd></dl>
<p>abort if neither worker could open a socket.</p>

<p class="definition">Definition at line <a class="el" href="pinger_8cc_source.html#l00103">103</a> of file <a class="el" href="pinger_8cc_source.html">pinger.cc</a>.</p>

<p class="reference">References <a class="el" href="classIcmp.html#a01a2faf00b04068bc79f75ab9865a7cd">Icmp::Close()</a>, <a class="el" href="classIcmpPinger.html#a9a863928b65efb044cb6da8a06883d78">IcmpPinger::Close()</a>, <a class="el" href="pinger_8cc.html#a34b9dad84dc45bb69fd53320e20ec6cd">control</a>, <a class="el" href="debug_2Stream_8h.html#af0ecf487aee4d8ff164c0f40e71c5150">DBG_CRITICAL</a>, <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="stub__libtime_8cc.html#a84c7e7d2d825f17752a7ed576840bc29">getCurrentTime()</a>, <a class="el" href="pinger_8cc.html#af641c2dced926ddb0c2e3eb786e2564d">icmp4</a>, <a class="el" href="pinger_8cc.html#abe5a4d215abee507270de67e171fc624">icmp6</a>, <a class="el" href="pinger_8cc.html#a72e58ca548335b56b02c93bc51f7fa54">LINK_TO_SQUID</a>, <a class="el" href="compat__shared_8h.html#a3d8cde9338394cf0f0f324862cd78533">max()</a>, <a class="el" href="classDebug.html#a98c2261cc1689cd3f5a10bc1e67e0012">Debug::NameThisHelper()</a>, <a class="el" href="classIcmp4.html#ae50ea32a3c570ed77693428ee0a74db9">Icmp4::Open()</a>, <a class="el" href="classIcmp6.html#a41a0b9bda0af2f17e78b926e1cce8e52">Icmp6::Open()</a>, <a class="el" href="classIcmpPinger.html#ab85be512947bf5f81dae3e9614d85b8c">IcmpPinger::Open()</a>, <a class="el" href="pinger_8cc.html#aaabb7dd193d754e788f6f53f1bf2737e">PingerTimeout</a>, <a class="el" href="namespaceIp.html#a3ba681683bc57c865891074e3634a12e">Ip::ProbeTransport()</a>, <a class="el" href="classIcmp4.html#a7d1fbbd7af06e1357db77dbbb8e460e8">Icmp4::Recv()</a>, <a class="el" href="classIcmp6.html#aea49f80d5618f0f3da033e19e7a36490">Icmp6::Recv()</a>, <a class="el" href="classIcmpPinger.html#a71c3c0748b57bddcf344e1de5043ec47">IcmpPinger::Recv()</a>, <a class="el" href="classStopwatch.html#a789461171238250633eeb26b8f3b0dce">Stopwatch::resume()</a>, <a class="el" href="classStopwatch.html#a17645ae6c002d8765115f9da7be73517">Stopwatch::total()</a>, <a class="el" href="select_8h.html#a70d8b9b30103d189fe35e81cc9e3e26e">xselect()</a>, <a class="el" href="socket_8h.html#a558317837a47bcf9232a0b235bacae55">xsend()</a>, and <a class="el" href="xstrerror_8cc.html#a3d643f764de4776e5489d4eb55a99849">xstrerr()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
