<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: squid/src/refresh.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;v8/master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('refresh_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">refresh.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="http_2forward_8h_source.html">http/forward.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="store_2forward_8h_source.html">store/forward.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for refresh.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="refresh_8h__incl.svg" width="540" height="330"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="refresh_8h__dep__incl.svg" width="100%" height="393"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="refresh_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a00bd0c9a625123b0d138a333888dbffa" id="r_a00bd0c9a625123b0d138a333888dbffa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a00bd0c9a625123b0d138a333888dbffa">refreshAddToList</a> (const char *, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>, time_t, <a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>, time_t)</td></tr>
<tr class="separator:a00bd0c9a625123b0d138a333888dbffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23115d46a5bb1263b33dd2f28a88f666" id="r_a23115d46a5bb1263b33dd2f28a88f666"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a23115d46a5bb1263b33dd2f28a88f666">refreshIsCachable</a> (const <a class="el" href="classStoreEntry.html">StoreEntry</a> *)</td></tr>
<tr class="separator:a23115d46a5bb1263b33dd2f28a88f666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c150c5a9191d57700f5c1d67b99e7a2" id="r_a7c150c5a9191d57700f5c1d67b99e7a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a7c150c5a9191d57700f5c1d67b99e7a2">refreshCheckHTTP</a> (const <a class="el" href="classStoreEntry.html">StoreEntry</a> *, <a class="el" href="classHttpRequest.html">HttpRequest</a> *)</td></tr>
<tr class="separator:a7c150c5a9191d57700f5c1d67b99e7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bb9558aac0d09122ad792d7a38900b8" id="r_a3bb9558aac0d09122ad792d7a38900b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a3bb9558aac0d09122ad792d7a38900b8">refreshCheckICP</a> (const <a class="el" href="classStoreEntry.html">StoreEntry</a> *, <a class="el" href="classHttpRequest.html">HttpRequest</a> *)</td></tr>
<tr class="separator:a3bb9558aac0d09122ad792d7a38900b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76753fb302491b76bedc33843156fbd" id="r_ae76753fb302491b76bedc33843156fbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#ae76753fb302491b76bedc33843156fbd">refreshCheckHTCP</a> (const <a class="el" href="classStoreEntry.html">StoreEntry</a> *, <a class="el" href="classHttpRequest.html">HttpRequest</a> *)</td></tr>
<tr class="separator:ae76753fb302491b76bedc33843156fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d9640c3dc8454e14cef4d5f2c57d43a" id="r_a9d9640c3dc8454e14cef4d5f2c57d43a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a9d9640c3dc8454e14cef4d5f2c57d43a">refreshCheckDigest</a> (const <a class="el" href="classStoreEntry.html">StoreEntry</a> *, time_t delta)</td></tr>
<tr class="separator:a9d9640c3dc8454e14cef4d5f2c57d43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a032987b49114299938fe83aa0e3d7f52" id="r_a032987b49114299938fe83aa0e3d7f52"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a032987b49114299938fe83aa0e3d7f52">getMaxAge</a> (const char *url)</td></tr>
<tr class="separator:a032987b49114299938fe83aa0e3d7f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a223fdad7ec9aae332dbbd2dac94a6cfe" id="r_a223fdad7ec9aae332dbbd2dac94a6cfe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a223fdad7ec9aae332dbbd2dac94a6cfe">refreshInit</a> (void)</td></tr>
<tr class="separator:a223fdad7ec9aae332dbbd2dac94a6cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102fae9c497335734a2de8017640c3ab" id="r_a102fae9c497335734a2de8017640c3ab"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classRefreshPattern.html">RefreshPattern</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="refresh_8h.html#a102fae9c497335734a2de8017640c3ab">refreshLimits</a> (const char *url)</td></tr>
<tr class="separator:a102fae9c497335734a2de8017640c3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a032987b49114299938fe83aa0e3d7f52" name="a032987b49114299938fe83aa0e3d7f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a032987b49114299938fe83aa0e3d7f52">&#9670;&#160;</a></span>getMaxAge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t getMaxAge </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the configured maximum caching time for objects with this URL according to refresh_pattern.</p>
<p>Used by <a class="el" href="http_8cc.html">http.cc</a> when generating a upstream requests to ensure that responses it is given are fresh enough to be worth caching.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">pattern-max</td><td>if there is a refresh_pattern matching the URL configured. </td></tr>
    <tr><td class="paramname">REFRESH_DEFAULT_MAX</td><td>if there are no explicit limits configured </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00639">639</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="debug_2Stream_8h.html#ad8cd33a7d75c0efd4d3fd369dc6a8f13">debugs</a>, <a class="el" href="classRefreshPattern.html#a04046e01ac4248eeb58204b89fa52b93">RefreshPattern::max</a>, <a class="el" href="RefreshPattern_8h.html#a5a408ca250a8663e798d93711d2cba9b">REFRESH_DEFAULT_MAX</a>, and <a class="el" href="refresh_8cc.html#a102fae9c497335734a2de8017640c3ab">refreshLimits()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classHttpStateData.html#a502ee153428b0bfa4e0ee66b84f46b7f">HttpStateData::httpBuildRequestHeader()</a>.</p>

</div>
</div>
<a id="a00bd0c9a625123b0d138a333888dbffa" name="a00bd0c9a625123b0d138a333888dbffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bd0c9a625123b0d138a333888dbffa">&#9670;&#160;</a></span>refreshAddToList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refreshAddToList </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d9640c3dc8454e14cef4d5f2c57d43a" name="a9d9640c3dc8454e14cef4d5f2c57d43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d9640c3dc8454e14cef4d5f2c57d43a">&#9670;&#160;</a></span>refreshCheckDigest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> refreshCheckDigest </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStoreEntry.html">StoreEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>delta</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> <a class="el" href="refresh_8cc.html#ae41c498580ee2ca2a2e6ea07a01573fd">refreshCheckHTTP(const StoreEntry * entry, HttpRequest * request)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00617">617</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="classRefCount.html#a9f2168c1df4a4ab6b7931425d85c37f0">RefCount&lt; C &gt;::getRaw()</a>, <a class="el" href="classStoreEntry.html#ab79c9d3fba14d5c997bae61161d9992f">StoreEntry::mem_obj</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a7d4aa4f18d359ba760ebdcba43595a7f">rcCDigest</a>, <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, <a class="el" href="classMemObject.html#a38fde17e9fa64949670b7a25e0735e64">MemObject::request</a>, <a class="el" href="structRefreshCounts.html#ac942050736dac0bdfc2e8bdaf10161fb">RefreshCounts::status</a>, and <a class="el" href="structRefreshCounts.html#af94c9eedf577b2318f18e6a2e2a4baa6">RefreshCounts::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="store__digest_8cc.html#ab276b763265f15493c7f84c47e29bb0c">storeDigestAddable()</a>.</p>

</div>
</div>
<a id="ae76753fb302491b76bedc33843156fbd" name="ae76753fb302491b76bedc33843156fbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76753fb302491b76bedc33843156fbd">&#9670;&#160;</a></span>refreshCheckHTCP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> refreshCheckHTCP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStoreEntry.html">StoreEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> <a class="el" href="refresh_8cc.html#ae41c498580ee2ca2a2e6ea07a01573fd">refreshCheckHTTP(const StoreEntry * entry, HttpRequest * request)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00604">604</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a034bf0c1fe3c9d3b5545fb5f64e364f7">rcHTCP</a>, <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, <a class="el" href="structRefreshCounts.html#ac942050736dac0bdfc2e8bdaf10161fb">RefreshCounts::status</a>, and <a class="el" href="structRefreshCounts.html#af94c9eedf577b2318f18e6a2e2a4baa6">RefreshCounts::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="classhtcpSpecifier.html#a5f7bd6c3ccaf5b6b1c1a0b779b95f385">htcpSpecifier::checkHit()</a>.</p>

</div>
</div>
<a id="a7c150c5a9191d57700f5c1d67b99e7a2" name="a7c150c5a9191d57700f5c1d67b99e7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c150c5a9191d57700f5c1d67b99e7a2">&#9670;&#160;</a></span>refreshCheckHTTP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> refreshCheckHTTP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStoreEntry.html">StoreEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Protocol-specific wrapper around <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a> function.</p>
<p><a class="el" href="classNote.html">Note</a> the reason for STALE/FRESH then return true/false respectively.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>if STALE </td></tr>
    <tr><td class="paramname">0</td><td>if FRESH</td></tr>
  </table>
  </dd>
</dl>
<p>Do not call this when <a class="el" href="classStoreClient.html#a2eb1d9b74bda05ccf875d98aab7e276f" title="whether startCollapsingOn() was called and returned true">StoreClient::didCollapse</a> is true. XXX: Callers should not have to remember to check didCollapse. TODO: Refactor by adding something like pure virtual StoreClient::refreshCheck() with protocol specializations? </p>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00582">582</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="classHttpRequest.html#a76422841293a4230a1a76479e6964c04">HttpRequest::flags</a>, <a class="el" href="classSquidConfig.html#a94f4d58b36060eb76c6d6ca9eda4c755">SquidConfig::offline</a>, <a class="el" href="classSquidConfig.html#a89bec7bc02d66eb2ab65c74c3f6b13ac">SquidConfig::onoff</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2ab83199a01a91ac27ec7feff5c8d311ea">rcHTTP</a>, <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, <a class="el" href="refresh_8cc.html#ac97526cf7ad5592bfd93b2a7ee40bc3a">refreshIsStaleIfHit()</a>, <a class="el" href="classRequestFlags.html#a4cb0ee94750e6ed9434b5924fb7804a6">RequestFlags::staleIfHit</a>, <a class="el" href="structRefreshCounts.html#ac942050736dac0bdfc2e8bdaf10161fb">RefreshCounts::status</a>, and <a class="el" href="structRefreshCounts.html#af94c9eedf577b2318f18e6a2e2a4baa6">RefreshCounts::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="classclientReplyContext.html#a334803088bd9af0377bdd7608b9a5876">clientReplyContext::cacheHit()</a>.</p>

</div>
</div>
<a id="a3bb9558aac0d09122ad792d7a38900b8" name="a3bb9558aac0d09122ad792d7a38900b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bb9558aac0d09122ad792d7a38900b8">&#9670;&#160;</a></span>refreshCheckICP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> refreshCheckICP </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStoreEntry.html">StoreEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classHttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="stub__fd_8cc.html#a35fed7109d24712d6b86b6134537c7bd">int</a> <a class="el" href="refresh_8cc.html#ae41c498580ee2ca2a2e6ea07a01573fd">refreshCheckHTTP(const StoreEntry * entry, HttpRequest * request)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00593">593</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2acc1b952fe210449743efee9b4752a5df">rcICP</a>, <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, <a class="el" href="structRefreshCounts.html#ac942050736dac0bdfc2e8bdaf10161fb">RefreshCounts::status</a>, and <a class="el" href="structRefreshCounts.html#af94c9eedf577b2318f18e6a2e2a4baa6">RefreshCounts::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="classICPState.html#af19905c0741bee1125bc19b62e1c030b">ICPState::confirmAndPrepHit()</a>.</p>

</div>
</div>
<a id="a223fdad7ec9aae332dbbd2dac94a6cfe" name="a223fdad7ec9aae332dbbd2dac94a6cfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a223fdad7ec9aae332dbbd2dac94a6cfe">&#9670;&#160;</a></span>refreshInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refreshInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00760">760</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="structRefreshCounts.html#a9c340664c54060486f43d8296b711f84">RefreshCounts::proto</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a7d4aa4f18d359ba760ebdcba43595a7f">rcCDigest</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a034bf0c1fe3c9d3b5545fb5f64e364f7">rcHTCP</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2ab83199a01a91ac27ec7feff5c8d311ea">rcHTTP</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2acc1b952fe210449743efee9b4752a5df">rcICP</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a0ab11b3775fd40511cb871c8fd8b8fe3">rcStore</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, and <a class="el" href="refresh_8cc.html#ad9c553d79d0e1ccad90a813a8a7f2fb4">refreshRegisterWithCacheManager()</a>.</p>

<p class="reference">Referenced by <a class="el" href="main_8cc.html#afa78696c5a9a5eb1f32a47d8b87cb9a0">mainInitialize()</a>.</p>

</div>
</div>
<a id="a23115d46a5bb1263b33dd2f28a88f666" name="a23115d46a5bb1263b33dd2f28a88f666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23115d46a5bb1263b33dd2f28a88f666">&#9670;&#160;</a></span>refreshIsCachable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool refreshIsCachable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classStoreEntry.html">StoreEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is called by <a class="el" href="http_8cc.html">http.cc</a> once it has received and parsed the origin server's response headers. It uses the result as part of its algorithm to decide whether a response should be cached.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the entry is cacheable, regardless of whether FRESH or STALE </td></tr>
    <tr><td class="paramname">false</td><td>if the entry is not cacheable</td></tr>
  </table>
  </dd>
</dl>
<p>TODO: this algorithm seems a bit odd and might not be quite right. Verify against HTTPbis. </p>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00518">518</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="classMemObject.html#ad5355b4679045222e5ea75b0c36f16c4">MemObject::baseReply()</a>, <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, <a class="el" href="classHttp_1_1Message.html#aa6074e26e4827d7a52e5ae9500c10500">Http::Message::content_length</a>, <a class="el" href="classStoreEntry.html#a4550da0757f7c3aa6af8e8e9c3bcdb48">StoreEntry::lastModified()</a>, <a class="el" href="classStoreEntry.html#ab79c9d3fba14d5c997bae61161d9992f">StoreEntry::mem_obj</a>, <a class="el" href="classSquidConfig.html#ac48bb383845d66131cba2a7bab1a7a6b">SquidConfig::minimum_expiry_time</a>, <a class="el" href="refresh_8cc.html#ac893fe944d5ecb1ff927631e9da01ca2a0ab11b3775fd40511cb871c8fd8b8fe3">rcStore</a>, <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>, <a class="el" href="refresh_8cc.html#a5d724e9c5ebcf1ed5dbc183ffaa7e32e">refreshCounts</a>, <a class="el" href="refresh_8cc.html#a68c01102755fc7d1c810bb0b0635fa90abecf02a61a5544ebf776f4d97119b592">STALE_MUST_REVALIDATE</a>, <a class="el" href="structRefreshCounts.html#ac942050736dac0bdfc2e8bdaf10161fb">RefreshCounts::status</a>, and <a class="el" href="structRefreshCounts.html#af94c9eedf577b2318f18e6a2e2a4baa6">RefreshCounts::total</a>.</p>

<p class="reference">Referenced by <a class="el" href="classHttpStateData.html#a3fe2e5fe8f69351678f4beeac678c6a0">HttpStateData::reusableReply()</a>.</p>

</div>
</div>
<a id="a102fae9c497335734a2de8017640c3ab" name="a102fae9c497335734a2de8017640c3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102fae9c497335734a2de8017640c3ab">&#9670;&#160;</a></span>refreshLimits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classRefreshPattern.html">RefreshPattern</a> * refreshLimits </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Locate the first refresh_pattern rule that matches the given URL by regex.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the refresh_pattern parameters to use, or nullptr if there is no match. </dd></dl>

<p class="definition">Definition at line <a class="el" href="refresh_8cc_source.html#l00092">92</a> of file <a class="el" href="refresh_8cc_source.html">refresh.cc</a>.</p>

<p class="reference">References <a class="el" href="SquidConfig_8cc.html#a75b136e6a1eef61424d84596a404aafe">Config</a>, and <a class="el" href="classSquidConfig.html#a5f74154b4cb281cd062f0e85325b2a06">SquidConfig::Refresh</a>.</p>

<p class="reference">Referenced by <a class="el" href="refresh_8cc.html#a032987b49114299938fe83aa0e3d7f52">getMaxAge()</a>, and <a class="el" href="refresh_8cc.html#a5dfb709f18ad53ffa9da9a6f9203d0ba">refreshCheck()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3c69fff7f634b97773a4d39d4565ffb4.html">squid</a></li><li class="navelem"><a class="el" href="dir_27a06220d184fcc3bd2c56b7794ae45b.html">src</a></li><li class="navelem"><a class="el" href="refresh_8h.html">refresh.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
