<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Squid Web Cache: squid/src/base/CodeContext.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Squid Web Cache<span id="projectnumber">&#160;v8/master</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('CodeContext_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle"><div class="title">CodeContext.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="InstanceId_8h_source.html">base/InstanceId.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RefCount_8h_source.html">base/RefCount.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Stopwatch_8h_source.html">base/Stopwatch.h</a>&quot;</code><br />
<code>#include &lt;iosfwd&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for CodeContext.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="CodeContext_8h__incl.svg" width="603" height="183"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="CodeContext_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div>
<p><a href="CodeContext_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCodeContext.html">CodeContext</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCodeContextGuard.html">CodeContextGuard</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a1706380ee73b2fa3d0f88807e7b19410" id="r_a1706380ee73b2fa3d0f88807e7b19410"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a1706380ee73b2fa3d0f88807e7b19410">operator&lt;&lt;</a> (std::ostream &amp;os, const <a class="el" href="classCodeContext.html">CodeContext</a> &amp;ctx)</td></tr>
<tr class="memdesc:a1706380ee73b2fa3d0f88807e7b19410"><td class="mdescLeft">&#160;</td><td class="mdescRight">by default, only small context gist is printed  <br /></td></tr>
<tr class="separator:a1706380ee73b2fa3d0f88807e7b19410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f75420b5997ccf74b4606493a2138e" id="r_a27f75420b5997ccf74b4606493a2138e"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a27f75420b5997ccf74b4606493a2138e">CurrentCodeContextBrief</a> (std::ostream &amp;os)</td></tr>
<tr class="separator:a27f75420b5997ccf74b4606493a2138e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4b1e29e5660c27c123bc750a3c0682" id="r_afc4b1e29e5660c27c123bc750a3c0682"><td class="memItemLeft" align="right" valign="top">std::ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#afc4b1e29e5660c27c123bc750a3c0682">CurrentCodeContextDetail</a> (std::ostream &amp;os)</td></tr>
<tr class="separator:afc4b1e29e5660c27c123bc750a3c0682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1423996a5160eb616d3f05830c831630" id="r_a1423996a5160eb616d3f05830c831630"><td class="memTemplParams" colspan="2">template&lt;typename Fun &gt; </td></tr>
<tr class="memitem:a1423996a5160eb616d3f05830c831630"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a1423996a5160eb616d3f05830c831630">CallAndRestore_</a> (const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;context, Fun &amp;&amp;fun)</td></tr>
<tr class="separator:a1423996a5160eb616d3f05830c831630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab89d6e6afe80c6e6e92e25761a96db02" id="r_ab89d6e6afe80c6e6e92e25761a96db02"><td class="memTemplParams" colspan="2">template&lt;typename Fun &gt; </td></tr>
<tr class="memitem:ab89d6e6afe80c6e6e92e25761a96db02"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#ab89d6e6afe80c6e6e92e25761a96db02">CallBack</a> (const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;callbackContext, Fun &amp;&amp;callback)</td></tr>
<tr class="separator:ab89d6e6afe80c6e6e92e25761a96db02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406b6decb781510ec58ab5c1a8b0d3b6" id="r_a406b6decb781510ec58ab5c1a8b0d3b6"><td class="memTemplParams" colspan="2">template&lt;typename Fun &gt; </td></tr>
<tr class="memitem:a406b6decb781510ec58ab5c1a8b0d3b6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a406b6decb781510ec58ab5c1a8b0d3b6">CallParser</a> (const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;parsingContext, Fun &amp;&amp;<a class="el" href="parse_8c.html#a87940393c7b149b3af193526b998b943">parse</a>)</td></tr>
<tr class="separator:a406b6decb781510ec58ab5c1a8b0d3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9e0a7564c7a5974969252c8f953ad0" id="r_a6c9e0a7564c7a5974969252c8f953ad0"><td class="memTemplParams" colspan="2">template&lt;typename Fun &gt; </td></tr>
<tr class="memitem:a6c9e0a7564c7a5974969252c8f953ad0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a6c9e0a7564c7a5974969252c8f953ad0">CallService</a> (const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;serviceContext, Fun &amp;&amp;service)</td></tr>
<tr class="separator:a6c9e0a7564c7a5974969252c8f953ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2117aeec5e8428af6ea46de4f55fd9f4" id="r_a2117aeec5e8428af6ea46de4f55fd9f4"><td class="memTemplParams" colspan="2">template&lt;typename Fun &gt; </td></tr>
<tr class="memitem:a2117aeec5e8428af6ea46de4f55fd9f4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="CodeContext_8h.html#a2117aeec5e8428af6ea46de4f55fd9f4">CallContextCreator</a> (Fun &amp;&amp;creator)</td></tr>
<tr class="separator:a2117aeec5e8428af6ea46de4f55fd9f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Most error-reporting code cannot know what transaction or task Squid was working on when the error occurred. For example, when Squid HTTP request parser discovers a malformed header field, the parser can report the field contents, but that information is often useless for the admin without processing context details like which client sent the request or what the requested URL was. Moreover, even when the error reporting code does have access to some context details, it cannot separate important facts from noise because such classification is usually deployment-specific (i.e. cannot be hard-coded) and requires human expertise. The situation is aggravated by a busy Squid instance constantly switching from one processing context to another.</p>
<p>To solve these problems, Squid assigns a <a class="el" href="classCodeContext.html">CodeContext</a> object to a processing context. When Squid switches to another processing context, it switches the current <a class="el" href="classCodeContext.html">CodeContext</a> object as well. When Squid prints a level-0 or level-1 message to cache.log, it asks the current <a class="el" href="classCodeContext.html">CodeContext</a> object (if any) to report context details, allowing the admin to correlate the cache.log message with an access.log record.</p>
<p>Squid also reports processing context changes to cache.log when Squid level-5+ debugging is enabled.</p>
<p><a class="el" href="classCodeContext.html">CodeContext</a> is being retrofitted into existing code with lots of places that switch processing context. Identifying and adjusting all those places takes time. Until then, there will be incorrect and missing context attributions. </p>

<p class="definition">Definition in file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1423996a5160eb616d3f05830c831630" name="a1423996a5160eb616d3f05830c831630"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1423996a5160eb616d3f05830c831630">&#9670;&#160;</a></span>CallAndRestore_()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fun &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CallAndRestore_ </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fun &amp;&amp;&#160;</td>
          <td class="paramname"><em>fun</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A helper that calls the given function in the given call context. If the function throws, the call context is preserved, so that the exception is associated with the context that triggered it. </p>

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00114">114</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">References <a class="el" href="classCodeContext.html#a13251c00d03b5a9cb9f3b164f0154969">CodeContext::Current()</a>, and <a class="el" href="classCodeContext.html#aeed1567dd2fb1c97eb3fa3f10df4622e">CodeContext::Reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="CodeContext_8h.html#ab89d6e6afe80c6e6e92e25761a96db02">CallBack()</a>, and <a class="el" href="CodeContext_8h.html#a406b6decb781510ec58ab5c1a8b0d3b6">CallParser()</a>.</p>

</div>
</div>
<a id="ab89d6e6afe80c6e6e92e25761a96db02" name="ab89d6e6afe80c6e6e92e25761a96db02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab89d6e6afe80c6e6e92e25761a96db02">&#9670;&#160;</a></span>CallBack()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fun &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CallBack </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;&#160;</td>
          <td class="paramname"><em>callbackContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fun &amp;&amp;&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Service code running in its own service context should use this function. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="CodeContext_8h.html#a1423996a5160eb616d3f05830c831630">CallAndRestore_()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00126">126</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">References <a class="el" href="CodeContext_8h.html#a1423996a5160eb616d3f05830c831630">CallAndRestore_()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classComm_1_1TcpAcceptor.html#afa3d85f1354a7388545f767108681d09">Comm::TcpAcceptor::acceptOne()</a>, <a class="el" href="classHappyOrderEnforcer.html#a47f29b61a96e828a391bbc67acf1e772">HappyOrderEnforcer::checkpoint()</a>, <a class="el" href="classIpcIoFile.html#a66d1f40ee1b871d605f8ab422c4ef8f9">IpcIoFile::checkTimeouts()</a>, <a class="el" href="comm_8cc.html#ad7b14f6dd1d2f1b1a9868085b9900a07">commHalfClosedCheck()</a>, <a class="el" href="classIpc_1_1UdsSender.html#a4c969956b547877d4edade369319a249">Ipc::UdsSender::DelayedRetry()</a>, <a class="el" href="classIpcIoFile.html#a8f8f54d4efa49d150a1ddc7430fc06e6">IpcIoFile::handleResponse()</a>, <a class="el" href="dns__internal_8cc.html#a10b64eb156860a73cd40e86455ff31e3">idnsCallbackAllCallersWithNewAnswer()</a>, <a class="el" href="classComm_1_1TcpAcceptor.html#ad66349e42cbff0e2b0608779bd922f3b">Comm::TcpAcceptor::logAcceptError()</a>, <a class="el" href="classPeerSelectorPingMonitor.html#ac23b2406217dddde29904511e97cf3b6">PeerSelectorPingMonitor::noteWaitOver()</a>, <a class="el" href="neighbors_8cc.html#a118fc9cfb76ca751cc3758457edc5a01">peerCountMcastPeersDone()</a>, <a class="el" href="classIpc_1_1Forwarder.html#ad813481cd34c5981c5d67b7f4241f47d">Ipc::Forwarder::RequestTimedOut()</a>, <a class="el" href="classIpc_1_1Inquirer.html#a256cac2ed58b80fbb05fce61b9583bb5">Ipc::Inquirer::RequestTimedOut()</a>, and <a class="el" href="classClientInfo.html#a4beb2facd2c11695a84cd14d9bd47076">ClientInfo::writeOrDequeue()</a>.</p>

</div>
</div>
<a id="a2117aeec5e8428af6ea46de4f55fd9f4" name="a2117aeec5e8428af6ea46de4f55fd9f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2117aeec5e8428af6ea46de4f55fd9f4">&#9670;&#160;</a></span>CallContextCreator()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fun &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CallContextCreator </td>
          <td>(</td>
          <td class="paramtype">Fun &amp;&amp;&#160;</td>
          <td class="paramname"><em>creator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes context <code>creator</code> in the service context. If an exception occurs, the creator context is preserved, so that the exception is associated with the creator that triggered them (rather than with the service).</p>
<p>Service code running in its own context should use this function to create new code contexts. TODO: Use or, if this pattern is not repeated, remove. </p>

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00166">166</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">References <a class="el" href="classCodeContext.html#a13251c00d03b5a9cb9f3b164f0154969">CodeContext::Current()</a>, and <a class="el" href="classCodeContext.html#aeed1567dd2fb1c97eb3fa3f10df4622e">CodeContext::Reset()</a>.</p>

<p class="reference">Referenced by <a class="el" href="neighbors_8cc.html#afc217053539cabc9b792dbdb5b077611">peerCountMcastPeersStart()</a>.</p>

</div>
</div>
<a id="a406b6decb781510ec58ab5c1a8b0d3b6" name="a406b6decb781510ec58ab5c1a8b0d3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a406b6decb781510ec58ab5c1a8b0d3b6">&#9670;&#160;</a></span>CallParser()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fun &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CallParser </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;&#160;</td>
          <td class="paramname"><em>parsingContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fun &amp;&amp;&#160;</td>
          <td class="paramname"><em>parse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>To supply error-reporting code with parsing context X (where the error occurred), parsing code should use this function when initiating parsing inside that context X. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="CodeContext_8h.html#a1423996a5160eb616d3f05830c831630">CallAndRestore_()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00138">138</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">References <a class="el" href="CodeContext_8h.html#a1423996a5160eb616d3f05830c831630">CallAndRestore_()</a>, and <a class="el" href="parse_8c.html#a87940393c7b149b3af193526b998b943">parse()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classAcl_1_1Node.html#ade7ea478512051d28cc3f523d26520fa">Acl::Node::ParseNamedAcl()</a>.</p>

</div>
</div>
<a id="a6c9e0a7564c7a5974969252c8f953ad0" name="a6c9e0a7564c7a5974969252c8f953ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9e0a7564c7a5974969252c8f953ad0">&#9670;&#160;</a></span>CallService()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Fun &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CallService </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCodeContext.html#a58db3a6335a5a6608856e856971b3fff">CodeContext::Pointer</a> &amp;&#160;</td>
          <td class="paramname"><em>serviceContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Fun &amp;&amp;&#160;</td>
          <td class="paramname"><em>service</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Executes <code>service</code> in <code>serviceContext</code> but due to automatic caller context restoration, service exceptions are associated with the caller that suffered from (and/or caused) them (rather than with the service itself).</p>
<p>Service code running in caller's context should use this function to escape into service context (e.g., for submitting caller-agnostic requests). </p>

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00151">151</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="classPeerPoolMgr.html#a9c260a8493349ce76cab309db15cc6e1">PeerPoolMgr::Checkpoint()</a>, <a class="el" href="classIpc_1_1Inquirer.html#ad127ad91b4dfb05ca5924cc448c3cb5d">Ipc::Inquirer::HandleRemoteAck()</a>, <a class="el" href="neighbors_8cc.html#a6204ffb9f5e7d51413c2514de20d68cd">neighborUp()</a>, <a class="el" href="classIpcIoFile.html#abd998f81d5d5edda964df9bb4551656c">IpcIoFile::push()</a>, <a class="el" href="classIpcIoFile.html#a24965336e5f8c31c99444a00a8d39fbe">IpcIoFile::scheduleTimeoutCheck()</a>, and <a class="el" href="classPeerPoolMgrsRr.html#a29e27022703cdc37d8e33c7b1be1d1c4">PeerPoolMgrsRr::syncConfig()</a>.</p>

</div>
</div>
<a id="a27f75420b5997ccf74b4606493a2138e" name="a27f75420b5997ccf74b4606493a2138e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f75420b5997ccf74b4606493a2138e">&#9670;&#160;</a></span>CurrentCodeContextBrief()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; CurrentCodeContextBrief </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afc4b1e29e5660c27c123bc750a3c0682" name="afc4b1e29e5660c27c123bc750a3c0682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4b1e29e5660c27c123bc750a3c0682">&#9670;&#160;</a></span>CurrentCodeContextDetail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; CurrentCodeContextDetail </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CodeContext_8cc_source.html#l00096">96</a> of file <a class="el" href="CodeContext_8cc_source.html">CodeContext.cc</a>.</p>

<p class="reference">References <a class="el" href="classCodeContext.html#a13251c00d03b5a9cb9f3b164f0154969">CodeContext::Current()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classDebug.html#a7e6eedf5287f1a0c08c37625ffe898f5">Debug::Finish()</a>.</p>

</div>
</div>
<a id="a1706380ee73b2fa3d0f88807e7b19410" name="a1706380ee73b2fa3d0f88807e7b19410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1706380ee73b2fa3d0f88807e7b19410">&#9670;&#160;</a></span>operator&lt;&lt;()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ostream &amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCodeContext.html">CodeContext</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CodeContext_8h_source.html#l00086">86</a> of file <a class="el" href="CodeContext_8h_source.html">CodeContext.h</a>.</p>

<p class="reference">References <a class="el" href="classCodeContext.html#a9498be0ab88d3596f5c5196f37727250">CodeContext::codeContextGist()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3c69fff7f634b97773a4d39d4565ffb4.html">squid</a></li><li class="navelem"><a class="el" href="dir_27a06220d184fcc3bd2c56b7794ae45b.html">src</a></li><li class="navelem"><a class="el" href="dir_49892635ae30f06b98770bacb35a9385.html">base</a></li><li class="navelem"><a class="el" href="CodeContext_8h.html">CodeContext.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
